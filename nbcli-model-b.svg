<svg viewBox="0 0 70 85" xmlns="http://www.w3.org/2000/svg" height="100%" width="100%">
	<desc>
		nbcli abstract machine
	</desc>
	<style>
		/* x-ray: proto-machinic view */
		#sampler,
		#pmos,
		#ptrans,
		#pmes {
			visibility: visible;
		}

		/* L2: ergomimetic view */
		#expressor,
		#mos,
		path,
		#c>rect,
		#c>text,
		#mes {
			visibility: hidden;
		}

		/* Model B: MOS view */
		#pmes,
		#ptrans,
		.branch {
			visibility: hidden;
		}

		#mos rect,
		#mes rect {
			stroke: #999;
			fill: #fff;
		}

		#mos,
		#mes {
			stroke-width: 0.5px;
		}

		#c {
			z-index: -999;
		}

		#a {
			z-index: 2;
		}

		path {
			stroke: black;
			fill: none;
			stroke-width: 0.125;
			stroke-dasharray: 1, .5;
		}

		rect,
		circle,
		line {
			stroke-width: 0.25;
			stroke: #111;
			fill: none;
		}

		text {
			font: 2.5px sans-serif;
			fill: #111;
		}

		.time {
			fill: #aaa;
			font: italic 2.5px sans-serif;
		}

		#c rect:nth-child(10)~rect,
		.branch {
			stroke: #aaa;
			stroke-width: 0.125;
		}

		#d text {
			/* fill: #aaa; */
		}

		.bound {
			stroke: #aaa;
			stroke-width: 0.1;
		}

		circle {
			fill: #fff;
		}

		text tspan {
			font: 1.6px sans-serif;
			fill: #aaa;
		}
	</style>
	<g id="a">
		<g id="b">
			<g id="sampler">
				<text x="5.5" y="24.5">
					<tspan>S</tspan>
				</text>
				<rect x="7.5" y="25" width="2.5" height="35"></rect>
			</g>
			<g id="mos">
				<text x="9.5" y="64.5">
					<tspan>MOS</tspan>
				</text>
				<path d="M 8.75 22.5 h 5 v 40 h -5 v -40"></path>
			</g>
			<g id="pmos">
				<rect x="7.5" y="25" width="2.5" height="35"></rect>
				<line x1="15" y1="15" x2="15" y2="70"></line>
				<circle cx="15" cy="27.5" r="2.5"></circle>
				<circle cx="15" cy="37.5" r="2.5"></circle>
				<circle cx="15" cy="47.5" r="2.5"></circle>
				<circle cx="15" cy="57.5" r="2.5"></circle>
			</g>
		</g>
		<g id="c">
			<rect x="12.5" y="25" width="48" height="35"></rect>
			<path d="M 14.5 26.5 h 15 v 32 h -15 v -32"></path>
			<text x="20.5" y="44">
				<tspan>A</tspan>
			</text>
			<path d="M 30 26.5 h 28.75 v 32 h -28.75 v -32"></path>
			<text x="40.5" y="44">
				<tspan>S</tspan>
			</text>
			<path d="M 50.75 39 h 7.5 v 8 h -7.5 v -8"></path>
			<text x="54" y="44">
				<tspan>F</tspan>
			</text>
			<g id="ptrans">
				<text class="time" x="27.25" y="20.25">t</text>
				<text x="26.5" y="28.25">A</text>
				<text x="26.5" y="38.25">V</text>
				<text x="26.5" y="48.25">C</text>
				<text x="27" y="58.25">I</text>
				<rect x="25" y="24.75" width="5" height="5"></rect>
				<rect x="25" y="34.75" width="5" height="5"></rect>
				<rect x="25" y="44.75" width="5" height="5"></rect>
				<rect x="25" y="54.75" width="5" height="5"></rect>
				<rect class="bound" x="22.5" y="22.25" width="10" height="30"></rect>
				<line x1="30" y1="27.5" x2="40" y2="27.5"></line>
				<line x1="30" y1="37.5" x2="40" y2="37.5"></line>
				<line x1="30" y1="47.5" x2="40" y2="47.5"></line>
				<line x1="30" y1="57.5" x2="40" y2="57.5"></line>
				<text x="41" y="28.25"> S<tspan>o</tspan></text>
				<text x="41" y="38.25">S<tspan>p</tspan></text>
				<text x="41.25" y="48.25">K<tspan>i</tspan></text>
				<text x="41" y="58.25">S<tspan>p</tspan></text>
				<rect x="40" y="24.75" width="5" height="5"></rect>
				<rect x="40" y="34.75" width="5" height="5"></rect>
				<rect x="40" y="44.75" width="5" height="5"></rect>
				<rect x="40" y="54.75" width="5" height="5"></rect>
			</g>
		</g>
		<g id="d">
			<g id="expressor">
				<text x="66.5" y="24.5">
					<tspan>E</tspan>
				</text>
				<rect x="63" y="25" width="2.5" height="35"></rect>
			</g>
			<g id="mes">
				<text x="60" y="64.5">
					<tspan>MES</tspan>
				</text>
				<path d="M 59.25 22.5 h 5 v 40 h -5 v -40"></path>
			</g>
			<g id="pmes">
				<line class="branch" x1="45" y1="27.5" x2="53" y2="22.75"></line>
				<line class="branch" x1="45" y1="37.5" x2="53" y2="42.5"></line>
				<line class="branch" x1="45" y1="47.5" x2="53" y2="62.75"></line>
				<line class="branch" x1="45" y1="57.5" x2="53" y2="42.5"></line>
				<line x1="55.5" y1="15" x2="55.5" y2="70"></line>
				<circle cx="55.5" cy="62.5" r="2.5"></circle>
				<circle cx="55.5" cy="42.5" r="2.5"></circle>
				<circle cx="55.5" cy="22.5" r="2.5"></circle>
				<circle cx="55.5" cy="71" r="1.25"></circle>
				<circle cx="55.5" cy="52.5" r="1.25"></circle>
				<circle cx="55.5" cy="32.5" r="1.25"></circle>
				<circle cx="55.5" cy="14" r="1.25"></circle>
				<text x="0.125" y="14" transform="rotate(-90,59,14)">
					<tspan>trop</tspan>
				</text>
				<text x="18.125" y="14" transform="rotate(-90,59,14)">
					<tspan>morph</tspan>
				</text>
				<text x="38.75" y="14" transform="rotate(-90,59,14)">
					<tspan>mod</tspan>
				</text>
				<text x="57.5" y="14" transform="rotate(-90,59,14)">
					<tspan>dim</tspan>
				</text>
			</g>
		</g>
	</g>
</svg>